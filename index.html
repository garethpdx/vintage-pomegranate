<html>
  <head>
    <title>
      Northwest Roses Vintage
    </title>
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js"></script>    
    <script type="text/javascript" src="/ui.js"></script>
    <script src="https://unpkg.com/vue@next"></script>
    <script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@latest/dist/js/splide.min.js"></script>
    <link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@splidejs/splide@2.4.14/dist/css/splide.min.css">
    <link type="text/css" rel="stylesheet" href="/style.css">
  </head>
  <body>
    <div>
      <div class="header">
	<h1>
	  Vintage Roses are Wilty
	</h1>
      </div>
      <div class="body" id="posts">
	<div class="intro">
	  Buy Now!
	  <a href='/edit.html'>Edit</a>
	</div>
	<div id="posts" class="posts">
	  <div v-if="selected.title" class="modal" v-bind="selected" style="position: absolute;
									    top: 0;
									    left: 0;
									    height: 100%;
									    width:100%;
									    z-index: 20;
									    ">
	    <!-- <div style="opacity: 0.5; -->
	    <!-- 		width:10%; -->
	    <!-- 		background-color: white; -->
	    <!-- 		float:left; -->
	    <!-- 		height:100% -->
	    <!-- 		">&nbsp;</div> -->
	    <div style="background: rgba(255, 255, 255, .5); height: 100%">
	      <div style="background-color: wheat;
			  width: 80%;
			  margin-left:10%;
			  ">
		<h1>{{ selected.title }}a</h1>
		<ul style='display:inline-block; width:60%; padding: 0; margin: 0; vertical-align:top'>
	          <li v-for="image in selected.images"><img v-bind:src="image" ></li>
		</ul>
		<div style="display: inline-block; width:25%;padding: 0; margin: 0">
		  <p>{{ selected.body }}</p>
		  <span @click="clearSelected()">(x)</span>
		</div>
	      </div>
	    </div>
	  </div>
	  <div v-for="post in posts" class="post" @click="select(post)">
	    <div class="overlay">
	      <h2>{{ post.title }}</h2>
	      <p>{{ post.body }}</p>
	    </div>
	    <div style=''>
	      <div class="splide">
		<div class="splide__arrows">
		  <button class="splide__arrow splide__arrow--prev" style='display:none'>
		  </button>
		  <button class="splide__arrow splide__arrow--next" style='display:none'>
		  </button>
		</div>
		<div class="splide__track">
		  <ul class="splide__list">
		    <li v-for="image in thumbnails(post)" class="splide__slide">
		      <!-- these are thumbnails, need link to modal -->
		      <!-- will be coming it at full resolution, need to add dimensions -->
		      <!-- center -->
		      <img v-bind:src="image">
		    </li>
		  </ul>
		</div>
	      </div>
	    </div>
	  </div>
	</div>
      </div>
      <div class="footer"></div>
    </div>
    <script type="text/javascript" src="/v.js"></script>
    <script>
      setTimeout(function(){

	  var toggler = function(e){
	      $(e.currentTarget).toggleClass('selected');
	  };
 	  $('div.post').hover(toggler, toggler);
	  
	  new Splide( '.splide', {
	      perPage: 1,
	      speed: 600,
	      // waitForTransition: false,
	      // width: '100%',
	      // height: '100%',
	      autoWidth: true,
	      autoHeight: true,
	      pagination: false,
	      lazyLoad: 'nearby',
	      autoplay: true,
	      type: 'loop',
	      interval: 3000,
	      // cover: true,
	      pauseOnHover: true
	  } ).mount();
      }, 2000);
    </script> 
  </body>
</html>
