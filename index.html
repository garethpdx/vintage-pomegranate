<html>
  <head>
    <title>
      Northwest Rustbuckets
    </title>
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://unpkg.com/vue@next"></script>
    <script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@latest/dist/js/splide.min.js"></script>
    <link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@splidejs/splide@2.4.14/dist/css/splide.min.css">
    <link type="text/css" rel="stylesheet" href="/style.css">
  </head>
  <body>
    <div>
      <div class="header">
	<h1>
	  Vintage Rust
	</h1>
      </div>
      <div class="body">
	<div class="intro">
	  Buy Now!
	  <a href='/edit.html'>Edit</a>
	</div>
	<div id="posts" class="posts">
	  <div v-if="selected.title" class="modal" v-bind="selected" style="position: absolute;
									    top: 0;
									    left: 0;
									    height: 100%;
									    width:100%;
									    z-index: 20;
									    ">
	    <div style="background: rgba(255, 255, 255, .5); height: 100%; overflow:scroll">
	      <div style="background-color: wheat;
			  width: 80%;
			  margin-left:10%;
			  position: absolute;
			  padding:10px;
			  ">
		<h1>{{ selected.title }}</h1>
		<div style="position:absolute;top:10px;right:10px;" @click="clearSelected()">(x)</div>
		<div style="display: inline-block; width:25%;padding: 0; 
			    margin: 0; min-width: 400px">
		  <p>{{ selected.body }}</p>
		</div>
		<ul style='display:inline-block; width:60%; padding: 0; margin: 0; vertical-align:top'>
	          <li v-for="image in selected.images" style="list-style: none">
		    <img v-bind:src="image">
		  </li>
		</ul>
	      </div>
	    </div>
	  </div>
	  <div v-for="post in posts" class="post" @click="select(post)" @hover="selected=1" :class="{ selected:  !selected }">
	    <div class="overlay" v-if="selected">
	      <h2>{{ post.title }}</h2>
	      <p>{{ post.body }}</p>
	    </div>
	    <div>
	      <div style='visibility:visible'>
		<div>
		  <ul>
		    <li v-for="image in thumbnails(post)" class="splide__slide">
		      <img v-bind:src="image" width="200" height="200">
		    </li>
		  </ul>
		</div>
	      </div>
	    </div>
	  </div>
	</div>
      </div>
      <div class="footer"></div>
    </div>
    <script type="text/javascript" src="/main.js"></script>
    <script>
      function toggleBodyOverflow(){
	  $('body').toggleClass('has-modal');
      }
    </script> 
  </body>
</html>
